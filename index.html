<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Pyntax Framework by SahilDude89ss</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Pyntax Framework</h1>
      <h2 class="project-tagline">Pyntax Framework is an ORM.</h2>
      <a href="https://github.com/SahilDude89ss/PyntaxFramework" class="btn">View on GitHub</a>
      <a href="https://github.com/SahilDude89ss/PyntaxFramework/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/SahilDude89ss/PyntaxFramework/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="pyntaxframework" class="anchor" href="#pyntaxframework" aria-hidden="true"><span class="octicon octicon-link"></span></a>PyntaxFramework</h1>

<p>Everything you need for development</p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<h3>
<a id="server-requirements" class="anchor" href="#server-requirements" aria-hidden="true"><span class="octicon octicon-link"></span></a>Server Requirements</h3>

<p>The Pyntax framework requires php version &gt; 5.4.31.</p>

<h3>
<a id="installing-pyntaxframework" class="anchor" href="#installing-pyntaxframework" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installing PyntaxFramework</h3>

<p>Pyntax utilizes Composer to manage is dependencies. So, before using PyntaxFramework, make sure you have Composer
installed on your machine.</p>

<pre><code>composer require pyntax/pyntax
composer install
</code></pre>

<h2>
<a id="configuration" class="anchor" href="#configuration" aria-hidden="true"><span class="octicon octicon-link"></span></a>Configuration</h2>

<h3>
<a id="basic-configuration" class="anchor" href="#basic-configuration" aria-hidden="true"><span class="octicon octicon-link"></span></a>Basic Configuration</h3>

<p>All of the configuration files for the Pyntax framework are stored in the config folder. </p>

<h2>
<a id="configure-database" class="anchor" href="#configure-database" aria-hidden="true"><span class="octicon octicon-link"></span></a>Configure Database</h2>

<p>Edit confing/config.php to add database details.</p>

<pre><code>Pyntax\Config\Config::writeConfig('database', array(
    'server' =&gt; 'localhost',
    'user' =&gt; 'root',
    'password' =&gt; '',
    'database' =&gt; 'simplemanager_db_v3'
));
</code></pre>

<h3>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h3>

<h2>
<a id="bootloader" class="anchor" href="#bootloader" aria-hidden="true"><span class="octicon octicon-link"></span></a>Bootloader</h2>

<p>The following code is need to be added to the bootloader of the application. We need to specify the folder from which
the config is suppose to be loaded.</p>

<pre><code>\Pyntax\Pyntax::start(dirname(__FILE__)."/config");
</code></pre>

<h2>
<a id="create-a-bean" class="anchor" href="#create-a-bean" aria-hidden="true"><span class="octicon octicon-link"></span></a>Create a Bean</h2>

<p>In order to save or retrieve data from the database, we need to create a BEAN.</p>

<pre><code>$bean = \Pyntax\Pyntax::getBean('&lt;TABLE_NAME&gt;');
</code></pre>

<h3>
<a id="save-a-bean" class="anchor" href="#save-a-bean" aria-hidden="true"><span class="octicon octicon-link"></span></a>Save a Bean</h3>

<p>Once the bean is retrieved, the new value can be set by using the following method. Once all the required data has
been set, save() function is called to save the data in the database. When saving a new Bean save function will return
id of the new Record, when updating it will return a boolean value.</p>

<pre><code>$bean-&gt;&lt;Column Name&gt; = 4;
$id = $bean-&gt;save();
</code></pre>

<h2>
<a id="find-a-bean" class="anchor" href="#find-a-bean" aria-hidden="true"><span class="octicon octicon-link"></span></a>Find a Bean</h2>

<p>Once an empty bean is retrieved it can be used to search for data in the database.</p>

<pre><code>$bean = \Pyntax\Pyntax::getBean('&lt;TABLE_NAME&gt;');
$bean-&gt;find(1);
</code></pre>

<p>This will load the data for record with primary key id 1 into the same bean.</p>

<h3>
<a id="finding-a-bean-with-and-and-or" class="anchor" href="#finding-a-bean-with-and-and-or" aria-hidden="true"><span class="octicon octicon-link"></span></a>Finding a Bean with AND and OR</h3>

<p>A Bean can be used to search for data using an Array. The following is an example of using AND and OR at the same time.</p>

<pre><code>$clientBean-&gt;find(array('AND' =&gt; array(
    'first_name' =&gt; 'Sahil',
    'OR' =&gt; array(
        'last_name' =&gt; 'Sharma',
        'email' =&gt; 'SahilSHARM'
    )
)));
</code></pre>

<p>The above code will generate the following query:</p>

<pre><code>SELECT
    *
FROM
    clients
WHERE
    first_name = 'Sahil' AND last_name = 'Sharma' OR email = 'SahilSHARM'";
</code></pre>

<p>If the search results returns more than one bean, it will return an array with the associated bean or if the search
returns only return one record it will return the object and also can be accessed from the base bean.</p>

<h2>
<a id="generate-a-form-using-a-formfactory-and-a-bean" class="anchor" href="#generate-a-form-using-a-formfactory-and-a-bean" aria-hidden="true"><span class="octicon octicon-link"></span></a>Generate a Form using a FormFactory and a Bean</h2>

<p>A Bean can be used to generate a form which can be used to save and update bean in the database.</p>

<pre><code>/**
 * This has to be added in the bootloader so the POST request can 
 * grabbed and the data can be saved to the database.
 */
\Pyntax\Pyntax::run();

//Load the bean
$attachmentBean = \Pyntax\Pyntax::getBean('attachments');

//Generate the form
echo \Pyntax\Pyntax::generateForm($attachmentBean);

</code></pre>

<h3>
<a id="config-for-forms" class="anchor" href="#config-for-forms" aria-hidden="true"><span class="octicon octicon-link"></span></a>Config for Forms</h3>

<pre><code>Pyntax\Config\Config::writeConfig('form', array(
    /**
     * @property: capturePostAndSaveBean
     * This allows the bean to be saved into the database when a form is submitted.
     */
    'capturePostAndSaveBean' =&gt; true,

    /**
     * @property: callback_before_capturePostAndSaveBean
     * This callback function can be used to inject more data like the users_id of the User who is logged in.
     */
    'callback_before_capturePostAndSaveBean' =&gt; function(array $data) {

    },

    /**
     * @property: callback_after_capturePostAndSaveBean
     */
    'callback_after_capturePostAndSaveBean' =&gt; function(\Pyntax\DAO\Bean\BeanInterface $bean, $id) {
        /**
         * @ToDo: If any things has to be done after save.
         */
    },

    /**
     * @property: showLabels
     * This is a  flag used to display the labels when a form is rendered
     */
    'showLabels' =&gt; true,

    /**
     * @property: convertColumnNamesIntoLabel
     * This allows the labels on the field to be formatted automatically depending on the field name. It removes
     * any "_" and "-" with a space and makes all the first alphabets of the words upper case.
     */
    'convertColumnNamesIntoLabel' =&gt; true,

    /**
     * @property: submitButton
     * This defines the template for Submit button that will be rendered in a form.
     * A Custom button can be defined in the beans key in the config array.
     *
     * - &lt;TABLE_NAME&gt; will be replicated with the table name in the Bean
     */
    'submitButton' =&gt; array(
        'tagName' =&gt; 'button',
        'attributes' =&gt; array(
            'type' =&gt; 'submit'
        ),
        'value' =&gt; 'Save'
    ),

    /**
     * @property: beans
     * This keys stores custom config for forms for particular beans.
     */
    'beans' =&gt; array(),

    /**
     * @property: formTemplate
     * This defines a default form tag with the defaults attributes
     */
    'formTemplate' =&gt; array(
        'tagName' =&gt; 'form',
        'attributes' =&gt; array(
            'method' =&gt; 'post',
            'class' =&gt; 'form-horizontal'
        )
    ),

    /**
     * @property: labelTempalte
     * This defines a default label tag with the default attributes
     */
    'labelTemplate' =&gt; array(
        'tagName' =&gt; 'label',
    ),

    /**
     * Defining callback functions on element rendering
     * Components in a Form:
     * 1. All the html elements
     * 2. Html element containers.
     *
     * Defining a container
     * 1. &lt;HTML_Element_NAME&gt;_container
     */
    'label_container' =&gt; array(
        'tagName' =&gt; 'div',
        'attributes' =&gt; array(
            'class' =&gt; 'col-sm-2 control-label'
        )
    ),
    'element_container' =&gt; array(
        'tagName' =&gt; 'div',
        'attributes' =&gt; array(
            'class' =&gt; 'col-sm-10'
        )
    ),
    'form_column' =&gt; array(
        'nbr_of_columns' =&gt; 2,
        'column_element_template' =&gt; array(
            'tagName' =&gt; ' div',
            'attributes' =&gt; array(
                'class' =&gt; 'row'
            )
        ),
        'container_element_template' =&gt; array(
            'tagName' =&gt; 'div',
            'attributes' =&gt; array(
                'class' =&gt; 'col-md-6'
            )
        ),

    ),
    'form_element_container_template' =&gt; array(
        'templateName' =&gt; 'html_element_template',
        'data' =&gt; array(
            'tagName' =&gt; 'div',
            'attributes' =&gt; array(
                'class' =&gt; 'form-group'
            )
        ),
    )
));
</code></pre>

<p>The Form generator will automatically remove the primary fields. The above config array is used to set all the HTML properties of the form.
The form will look as follows:</p>

<pre><code>&lt;form id="frm_attachments" method="post" class="form-horizontal"&gt;
   &lt;div class="col-md-6"&gt;
      &lt;div class="form-group"&gt;
         &lt;div class="col-sm-2 control-label"&gt; &lt;label for="PyntaxDAO[attachments][file_name]"&gt; File Name &lt;/label&gt; &lt;/div&gt;
         &lt;div class="col-sm-10"&gt; &lt;input type="text" id="id_file_name" name="PyntaxDAO[attachments][file_name]" placeholder="file_name" class="form-control" value=""&gt; &lt;/div&gt;
      &lt;/div&gt;
      &lt;div class="form-group"&gt;
         &lt;div class="col-sm-2 control-label"&gt; &lt;label for="PyntaxDAO[attachments][file_path]"&gt; File Path &lt;/label&gt; &lt;/div&gt;
         &lt;div class="col-sm-10"&gt; &lt;input type="text" id="id_file_path" name="PyntaxDAO[attachments][file_path]" placeholder="file_path" class="form-control" value=""&gt; &lt;/div&gt;
      &lt;/div&gt;
   &lt;/div&gt;
   &lt;div class="col-md-6"&gt;
      &lt;div class="form-group"&gt;
         &lt;div class="col-sm-2 control-label"&gt; &lt;label for="PyntaxDAO[attachments][date_uploaded]"&gt; Date Uploaded &lt;/label&gt; &lt;/div&gt;
         &lt;div class="col-sm-10"&gt; &lt;input type="text" id="id_date_uploaded" name="PyntaxDAO[attachments][date_uploaded]" placeholder="date_uploaded" class="form-control" value=""&gt; &lt;/div&gt;
      &lt;/div&gt;
      &lt;div class="form-group"&gt;
         &lt;div class="col-sm-2 control-label"&gt; &lt;label for="PyntaxDAO[attachments][file_type]"&gt; File Type &lt;/label&gt; &lt;/div&gt;
         &lt;div class="col-sm-10"&gt; &lt;input type="text" id="id_file_type" name="PyntaxDAO[attachments][file_type]" placeholder="file_type" class="form-control" value=""&gt; &lt;/div&gt;
      &lt;/div&gt;
   &lt;/div&gt;
   &lt;input type="hidden" name="PyntaxDAO[BeanName]" value="attachments"&gt;&lt;button type="Submit"&gt; Save &lt;/button&gt; 
&lt;/form&gt;
</code></pre>

<h2>
<a id="generate-a-table-using-tablefactory-and-a-bean" class="anchor" href="#generate-a-table-using-tablefactory-and-a-bean" aria-hidden="true"><span class="octicon octicon-link"></span></a>Generate a Table using TableFactory and a Bean</h2>

<p>A bean and a find query can be used to generate a table. PyntaxDAO, for now automatically finds the fields which are eligible for displaying. It removes
all id fields and only keep string fields.</p>

<pre><code>$clientBean = \Pyntax\Pyntax::getBean('clients');

$tableFactory = new Pyntax\Table\TableFactory;
$tableFactory-&gt;generateTable($clientBean, array('AND' =&gt; array(
    'first_name' =&gt; 'Sahil',
    'OR' =&gt; array(
        'last_name' =&gt; 'Sharma'
    )
)));
</code></pre>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/SahilDude89ss/PyntaxFramework">Pyntax Framework</a> is maintained by <a href="https://github.com/SahilDude89ss">SahilDude89ss</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-66937119-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
